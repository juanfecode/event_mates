<% if outgoing_requests.any?%>
    <hr>
    <p><strong>Outgoing requests</strong></p>
    <div class="carousel-container" data-controller="carousel">
        <div class="carousel">
            <button class="carousel-arrow left-arrow" data-action="click->carousel#slideLeft" data-carousel-target="leftArrow">‹</button>
            <div class="carousel-track-container">
                <div class="carousel-track" data-carousel-target="track">
                    <% outgoing_requests.each do |request| %>
                        <div class="request-card" data-carousel-target="card" data-url="<%= profile_path(request.user) %>">
                            <% if request.user.photo.attached? %>
                                <%= cl_image_tag request.user.photo.key, class: "request-image", alt: "#{request.user.first_name} Image" %>
                            <% else %>
                                <%= image_tag "banner-placeholder.jpg", class: "request-image", alt: "Default Event Image" %>
                            <% end %>
                            <div class="request-info">
                                <h6><%= request.user.first_name %> <%= request.user.last_name %></h6>
                                <p><%= calculate_age(request.user.dob) %> years old</p>
                            </div>
                            <div>
                                <%= link_to "Cancel", cancel_request_path(request), data: { turbo_method: :delete }, class: "btn btn-secondary btn-sm rounded-pill" %>
                            </div>
                        </div>
                    <% end %>
                </div>
            </div>
            <button class="carousel-arrow right-arrow" data-action="click->carousel#slideRight" data-carousel-target="rightArrow">›</button>
        </div>
    </div>
<% end %>
<% if incoming_requests.any? %>
    <hr>
    <p><strong>Incoming requests</strong></p>
    <div class="carousel-container" data-controller="carousel">
        <div class="carousel">
            <button class="carousel-arrow left-arrow" data-action="click->carousel#slideLeft" data-carousel-target="leftArrow">‹</button>
            <div class="carousel-track-container">
                <div class="carousel-track" data-carousel-target="track">
                    <% incoming_requests.each do |request|  %>
                        <div class="request-card" data-carousel-target="card" data-url="<%= profile_path(request.user) %>">
                            <% if request.user.photo.attached? %>
                                <%= cl_image_tag request.user.photo.key, class: "request-image", alt: "#{request.user.first_name} Image" %>
                            <% else %>
                                <%= image_tag "banner-placeholder.jpg", class: "request-image", alt: "Default Event Image" %>
                            <% end %>
                            <div class="request-info">
                                <h6><%= request.user.first_name %> <%= request.user.last_name %></h6>
                                <p><%= calculate_age(request.user.dob) %> years old</p>
                            </div>
                            <div class="d-flex justify-content-center">
                                <%= button_to "Approve", approve_request_path(request), method: :patch,  class: "btn btn-success btn-sm rounded-pill mx-1" %>
                                <%= button_to "Reject", reject_request_path(request), method: :patch, class: "btn btn-info btn-sm rounded-pill mx-1" %>
                            </div>
                        </div>
                    <% end %>
                </div>
            </div>
            <button class="carousel-arrow right-arrow" data-action="click->carousel#slideRight" data-carousel-target="rightArrow">›</button>
        </div>
    </div>
<% end %>